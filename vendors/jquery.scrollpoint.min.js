"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(r){var n=function(){function n(e,t){_classCallCheck(this,n),this.sPoint=e,this.options=t,this._eventAccess=1}return _createClass(n,[{key:"triggerAll",value:function(e,t){var n=this;e.forEach(function(e){return n.trigger(e,t)})}},{key:"trigger",value:function(e,t){var n=this._tryAccessEvent(e);return n&&this.options[e]&&this.options[e].call(this.sPoint.$element[0],t),n}},{key:"_tryAccessEvent",value:function(e){if("stay"==e)return!0;if("enter"!=e&&"exit"!=e)return!1;var t="enter"==e,n=t?this._eventAccess:~this._eventAccess;return(n&=1)&&(t?this._eventAccess<<=1:this._eventAccess>>>=1),!!n}},{key:"calcOffset",value:function(e){var t=this.options.offset||0;return"string"==typeof t&&(t=parseInt(t)),e*t*.01}}]),n}(),c=function(){function t(e){_classCallCheck(this,t),this.$element=e,this.listeners=[],r(window).on("scroll resize",this._execute.bind(this))}return _createClass(t,[{key:"refresh",value:function(){this._execute()}},{key:"_execute",value:function(){var i=this,s=this.$element[0].getBoundingClientRect(),r=window.innerHeight,c={scrollDelta:this._DOMRect?this._DOMRect.top-s.top:0};this.listeners.forEach(function(e,t){var n=e.calcOffset(r);s.top+n<r&&0<s.top+s.height?e.triggerAll(["enter","stay"],c):e.trigger("exit",c)&&e.options.once&&setTimeout(function(){return i.listeners.splice(t,1)})}),this._DOMRect=s}},{key:"addListener",value:function(e){this.listeners.push(new n(this,e))}}]),t}(),o="rsh.scrollpoint";r.fn.scrollpoint=function(s){return this.each(function(e,t){var n=r(t),i=n.data(o);i||n.data(o,i=new c(n)),i.addListener(s)})}}($);
//# sourceMappingURL=jquery.scrollpoint.min.js.map
